<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>双向数据绑定的原理 | 小健的日常学习</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/vuepress/logo.png">
    <meta name="description" content="没有神的光环、你我生而平凡">
    
    <link rel="preload" href="/vuepress/assets/css/0.styles.696b0a5c.css" as="style"><link rel="preload" href="/vuepress/assets/js/app.e9a99a7e.js" as="script"><link rel="preload" href="/vuepress/assets/js/2.996b1df4.js" as="script"><link rel="preload" href="/vuepress/assets/js/51.0f87b320.js" as="script"><link rel="prefetch" href="/vuepress/assets/js/10.635a65f9.js"><link rel="prefetch" href="/vuepress/assets/js/11.0f9c5587.js"><link rel="prefetch" href="/vuepress/assets/js/12.eb21bbcd.js"><link rel="prefetch" href="/vuepress/assets/js/13.941714bd.js"><link rel="prefetch" href="/vuepress/assets/js/14.9a896723.js"><link rel="prefetch" href="/vuepress/assets/js/15.044182f5.js"><link rel="prefetch" href="/vuepress/assets/js/16.bfb951c0.js"><link rel="prefetch" href="/vuepress/assets/js/17.488fe46c.js"><link rel="prefetch" href="/vuepress/assets/js/18.059127cb.js"><link rel="prefetch" href="/vuepress/assets/js/19.a16cf947.js"><link rel="prefetch" href="/vuepress/assets/js/20.da3f6965.js"><link rel="prefetch" href="/vuepress/assets/js/21.fbc23712.js"><link rel="prefetch" href="/vuepress/assets/js/22.e6544328.js"><link rel="prefetch" href="/vuepress/assets/js/23.b68eaf79.js"><link rel="prefetch" href="/vuepress/assets/js/24.93f2c231.js"><link rel="prefetch" href="/vuepress/assets/js/25.c5831e70.js"><link rel="prefetch" href="/vuepress/assets/js/26.e63402d4.js"><link rel="prefetch" href="/vuepress/assets/js/27.e14c2acd.js"><link rel="prefetch" href="/vuepress/assets/js/28.db652c10.js"><link rel="prefetch" href="/vuepress/assets/js/29.c13b58e0.js"><link rel="prefetch" href="/vuepress/assets/js/3.f8382ac5.js"><link rel="prefetch" href="/vuepress/assets/js/30.159ed84c.js"><link rel="prefetch" href="/vuepress/assets/js/31.359c6a39.js"><link rel="prefetch" href="/vuepress/assets/js/32.4bfc054e.js"><link rel="prefetch" href="/vuepress/assets/js/33.cb4651f3.js"><link rel="prefetch" href="/vuepress/assets/js/34.4ce08b80.js"><link rel="prefetch" href="/vuepress/assets/js/35.23944bc7.js"><link rel="prefetch" href="/vuepress/assets/js/36.db2a36a2.js"><link rel="prefetch" href="/vuepress/assets/js/37.4ec3d1ef.js"><link rel="prefetch" href="/vuepress/assets/js/38.9b0257dc.js"><link rel="prefetch" href="/vuepress/assets/js/39.eb69d046.js"><link rel="prefetch" href="/vuepress/assets/js/4.3f80893d.js"><link rel="prefetch" href="/vuepress/assets/js/40.6d2de8e4.js"><link rel="prefetch" href="/vuepress/assets/js/41.87ada15a.js"><link rel="prefetch" href="/vuepress/assets/js/42.c7b5cc14.js"><link rel="prefetch" href="/vuepress/assets/js/43.8eaa3705.js"><link rel="prefetch" href="/vuepress/assets/js/44.fd7b5878.js"><link rel="prefetch" href="/vuepress/assets/js/45.9d79ac3f.js"><link rel="prefetch" href="/vuepress/assets/js/46.f062099a.js"><link rel="prefetch" href="/vuepress/assets/js/47.9a4bdade.js"><link rel="prefetch" href="/vuepress/assets/js/48.94675d5d.js"><link rel="prefetch" href="/vuepress/assets/js/49.c6961fd9.js"><link rel="prefetch" href="/vuepress/assets/js/5.cd8a133e.js"><link rel="prefetch" href="/vuepress/assets/js/50.7ee06892.js"><link rel="prefetch" href="/vuepress/assets/js/52.d75e90a3.js"><link rel="prefetch" href="/vuepress/assets/js/53.ea5e5f68.js"><link rel="prefetch" href="/vuepress/assets/js/54.f242b38c.js"><link rel="prefetch" href="/vuepress/assets/js/55.867c4000.js"><link rel="prefetch" href="/vuepress/assets/js/56.57fac248.js"><link rel="prefetch" href="/vuepress/assets/js/57.068c5276.js"><link rel="prefetch" href="/vuepress/assets/js/58.e74300c2.js"><link rel="prefetch" href="/vuepress/assets/js/59.4057ce83.js"><link rel="prefetch" href="/vuepress/assets/js/6.2ce81ab1.js"><link rel="prefetch" href="/vuepress/assets/js/60.ef9f2970.js"><link rel="prefetch" href="/vuepress/assets/js/61.ce4e8ced.js"><link rel="prefetch" href="/vuepress/assets/js/62.38f35ec7.js"><link rel="prefetch" href="/vuepress/assets/js/63.0c169d64.js"><link rel="prefetch" href="/vuepress/assets/js/64.5d044281.js"><link rel="prefetch" href="/vuepress/assets/js/65.6cd01cd5.js"><link rel="prefetch" href="/vuepress/assets/js/66.d58fa4e0.js"><link rel="prefetch" href="/vuepress/assets/js/67.f1405e54.js"><link rel="prefetch" href="/vuepress/assets/js/68.1ffeeee2.js"><link rel="prefetch" href="/vuepress/assets/js/69.968abc37.js"><link rel="prefetch" href="/vuepress/assets/js/7.1361b83e.js"><link rel="prefetch" href="/vuepress/assets/js/70.4c9b4ecc.js"><link rel="prefetch" href="/vuepress/assets/js/71.ba361502.js"><link rel="prefetch" href="/vuepress/assets/js/72.f54b2621.js"><link rel="prefetch" href="/vuepress/assets/js/73.6cf8bef4.js"><link rel="prefetch" href="/vuepress/assets/js/74.30d5da05.js"><link rel="prefetch" href="/vuepress/assets/js/75.9c8044db.js"><link rel="prefetch" href="/vuepress/assets/js/76.db7aee7f.js"><link rel="prefetch" href="/vuepress/assets/js/8.a891d0e2.js"><link rel="prefetch" href="/vuepress/assets/js/9.9df739c3.js">
    <link rel="stylesheet" href="/vuepress/assets/css/0.styles.696b0a5c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress/" class="home-link router-link-active"><!----> <span class="site-name">小健的日常学习</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress/docs/life/" class="nav-link">
  碎碎念
</a></div><div class="nav-item"><a href="/vuepress/docs/interweb/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/vuepress/docs/JS/" class="nav-link">
  JS基础
</a></div><div class="nav-item"><a href="/vuepress/docs/kuangjia/" class="nav-link router-link-active">
  框架
</a></div><div class="nav-item"><a href="/vuepress/docs/elementplus/" class="nav-link">
  elementplus
</a></div><div class="nav-item"><a href="/vuepress/docs/jinjie/" class="nav-link">
  进击的前端
</a></div><div class="nav-item"><a href="/vuepress/docs/shoucuo/" class="nav-link">
  手写代码
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress/docs/life/" class="nav-link">
  碎碎念
</a></div><div class="nav-item"><a href="/vuepress/docs/interweb/" class="nav-link">
  计算机网络
</a></div><div class="nav-item"><a href="/vuepress/docs/JS/" class="nav-link">
  JS基础
</a></div><div class="nav-item"><a href="/vuepress/docs/kuangjia/" class="nav-link router-link-active">
  框架
</a></div><div class="nav-item"><a href="/vuepress/docs/elementplus/" class="nav-link">
  elementplus
</a></div><div class="nav-item"><a href="/vuepress/docs/jinjie/" class="nav-link">
  进击的前端
</a></div><div class="nav-item"><a href="/vuepress/docs/shoucuo/" class="nav-link">
  手写代码
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>手写代码</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress/docs/kuangjia/jichu.html" aria-current="page" class="active sidebar-link">基础</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/vuepress/docs/kuangjia/组件通信.html" class="sidebar-link">组件通信</a></li><li><a href="/vuepress/docs/kuangjia/vue3与虚拟dom.html" class="sidebar-link">vue3与虚拟dom</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="双向数据绑定的原理"><a href="#双向数据绑定的原理" class="header-anchor">#</a> 双向数据绑定的原理</h3> <p>vue采用的是数据劫持结合发布者订阅者模式的方式，通过Object.defineProperty（）来劫持各个属性的setter（发布），getter（订阅）。</p> <p>在数据变动时发布消息给订阅者，触发相应的监听回调。</p> <p>通过下标方式修改数组数据、或者给对象添加新属性。object.defineproperty不能拦截到这些操作。 vue内部通过重写函数的方式解决了这个问题。</p> <p>Proxy相当于在目标对象之前架设一层“拦截”，外界对该对象的访问</p> <p>都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写</p> <p>从而实现数据劫持，它可以完美监听到任何方式的数据改变，兼容性 他是ES6</p> <p>主要通过Proxy对对象进行绑定监听处理，通过new Map对对象的属性操作进行处理，将要执行的函数匹配到存到对应的prop上面</p> <p>通过每次的访问触发get方法，进行存方法的操作，通过修改触发set的方法，此时执行回调监听的函数，这样达到修改数据和视图的</p> <h3 id="mvvm"><a href="#mvvm" class="header-anchor">#</a> MVVM</h3> <p>软件架构设计模式 优化开发效率</p> <p>Mvvm model view modelview</p> <p>model代表数据模型，数据和业务逻辑都在model定义</p> <p>view 代表ui视图</p> <p>viewmodel负责监听model中的数据的改变并且控制视图的更新。处理用户交互操作</p> <p>model与view并无直接联系，而是用过viewmodel来进行联系的，</p> <p>moedl与viewmodel之间有着数据绑定的联系</p> <p>所以model中的数据改变时会触发view层的刷新，view中由于用户操作而改变的数据也会在model中实现</p> <p>这种模式实现了model和view的数据自动同步，因此开发者只需要专注于数据的维护操作就可。</p> <h3 id="computed和watch"><a href="#computed和watch" class="header-anchor">#</a> computed和watch</h3> <p>computed 缓存，依赖的数据改变 重新计算</p> <p>只做计算不做其他操作。</p> <p>不支持异步。</p> <p>watch 不支持缓存，数据变化就执行。支持异步。</p> <p>监听的数据必须是data中声明的，或者是父组件传递过来的props数据</p> <p>有两个参数 immediate 组件加载立刻触发的回调函数</p> <p>deep ：深度监听，数组中的对象发生辩护。</p> <p>需要异步或者操作api</p> <h3 id="slot"><a href="#slot" class="header-anchor">#</a> slot</h3> <p>默认插槽</p> <p>具名插槽</p> <p>作用域插槽 有数据传递 就用。</p> <p>当子组件的vm实例化时，获取父组件传入的slot的内容，存放在vm&amp;slot中，默认插槽是default。</p> <h3 id="过滤器"><a href="#过滤器" class="header-anchor">#</a> 过滤器</h3> <h3 id="保存页面当前的状态"><a href="#保存页面当前的状态" class="header-anchor">#</a> 保存页面当前的状态</h3> <p>组件被卸载</p> <p>localstorage、sessionstorage。组件即将销毁的生命周期中把当前组件的state通过json。string存储</p> <p>路由，lingk组件中的prop</p> <p>组件不被卸载</p> <p>要切换的组件作为子组件全屏渲染、父组件中正常存储页面状态。</p> <p>还有就是keepalive</p> <h3 id="事件修饰符"><a href="#事件修饰符" class="header-anchor">#</a> 事件修饰符</h3> <p>.stop 冒泡</p> <p>.prevent 默认行文</p> <p>.capture 捕获</p> <p>.self 触发自己</p> <p>.once 只触发一次</p> <h3 id="v-if-与v-show"><a href="#v-if-与v-show" class="header-anchor">#</a> v-if 与v-show</h3> <h3 id="v-model"><a href="#v-model" class="header-anchor">#</a> v-model</h3> <p>:value @input</p> <p>作用在组件上</p> <p>绑定value和事件</p> <h3 id="data为什么是一个函数而不是对象"><a href="#data为什么是一个函数而不是对象" class="header-anchor">#</a> data为什么是一个函数而不是对象</h3> <p>共享一个对象</p> <p>状态污染。</p> <p>根实例只有一个 不会污染</p> <h3 id="keepalive"><a href="#keepalive" class="header-anchor">#</a> keepalive</h3> <p>keep-alive 是 Vue 内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。</p> <p>一旦使用keepalive包裹组件，此时mouted，created等钩子函数只会在第一次进入组件时调用，当再次切换回来时将不会调用。</p> <p>此时如果我们还想在每次切换时做一些事情，就需要用到另外的周期函数，actived和deactived，这两个钩子函数只有被keepalive包裹后才会调用。</p> <h3 id="单向数据流"><a href="#单向数据流" class="header-anchor">#</a> 单向数据流</h3> <p>子组件不能直接改变父组件的数据。</p> <h3 id="mixin"><a href="#mixin" class="header-anchor">#</a> mixin</h3> <p>minxin 使我们能为vue组件编写可插拔和可重用的功能</p> <p>多个组件之间重用一组组件选项 生命周期 hook 方法</p> <p>可以编写mixin</p> <h3 id="vue模板编译原理"><a href="#vue模板编译原理" class="header-anchor">#</a> vue模板编译原理</h3> <p>template无法被浏览器解析并渲染，这不属于浏览器的标准。不是正确的html语法</p> <p>将template转化为一个js函数、浏览器就可以执行这一个函数并渲染出对应的HTML元素，让视图拍起来</p> <p>解析parse 优化optimiez 生成generate render</p> <h3 id="ssr"><a href="#ssr" class="header-anchor">#</a> ssr</h3> <p>服务端渲染、vue在客户端吧标签渲染成html的工作放在服务端完成，然后html直接返回给客户端</p> <p>ssr的优势</p> <p>更好的seo</p> <p>首屏加载速度更快。</p> <p>ssr的缺点。</p> <p>开发条件受到限制，服务器渲染只支持beforecreate和create两个钩子</p> <p>更多的服务器负载</p> <p>服务端如果有库 需要nodejs环境。</p> <h3 id="vue-性能优化"><a href="#vue-性能优化" class="header-anchor">#</a> vue 性能优化</h3> <p>v-if 和 v-for</p> <p>keepalive</p> <p>key保持唯一</p> <p>路由懒加载、异步组件。图片懒加载</p> <p>防抖节流。</p> <p>第三模块按需载入。</p> <p>服务端渲染</p> <ol start="2"><li>打包优化</li></ol> <p>压缩代码</p> <p>treeshaking</p> <p>cdn加载第三方模块</p> <p>多线程打包</p> <ol start="3"><li>用户体验
骨架屏</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/vuepress/docs/kuangjia/组件通信.html">
        组件通信
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress/assets/js/app.e9a99a7e.js" defer></script><script src="/vuepress/assets/js/2.996b1df4.js" defer></script><script src="/vuepress/assets/js/51.0f87b320.js" defer></script>
  </body>
</html>
